<!doctype html><html lang="en"><head><title data-rh="true">Making instagram.com faster: Code size and execution optimizations (Part 4) | by Glenn Conner | Instagram Engineering</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2019-11-01T13:03:12.297Z"/><meta data-rh="true" name="title" content="Making instagram.com faster: Code size and execution optimizations (Part 4) | by Glenn Conner | Instagram Engineering"/><meta data-rh="true" property="og:title" content="Making instagram.com faster: Code size and execution optimizations (Part 4)"/><meta data-rh="true" property="twitter:title" content="Making instagram.com faster: Code size and execution optimizations (Part 4)"/><meta data-rh="true" name="twitter:site" content="@instagrameng"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/57668be796a8"/><meta data-rh="true" property="al:android:url" content="medium://p/57668be796a8"/><meta data-rh="true" property="al:ios:url" content="medium://p/57668be796a8"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="In recent years instagram.com has seen a lot of changes — we’ve launched stories, filters, creation tools, notifications, and direct messaging as well as a myriad of other features and enhancements…"/><meta data-rh="true" property="og:description" content="Covers approaches to how we improved performance by reducing JavaScript size &amp; making that Javascript execute more efficiently."/><meta data-rh="true" property="twitter:description" content="Covers approaches to how we improved performance by reducing JavaScript size &amp; making that Javascript execute more efficiently."/><meta data-rh="true" property="og:url" content="https://instagram-engineering.com/making-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8"/><meta data-rh="true" property="al:web:url" content="https://instagram-engineering.com/making-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/627/1*HDLCFPZCIfOpVWMSYz4HOg.png"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/627/1*HDLCFPZCIfOpVWMSYz4HOg.png"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@mr_sharpoblunto"/><meta data-rh="true" name="twitter:creator" content="@mr_sharpoblunto"/><meta data-rh="true" name="author" content="Glenn Conner"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="7 min read"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@mr_sharpoblunto"/><link data-rh="true" rel="canonical" href="https://instagram-engineering.com/making-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/57668be796a8"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*HDLCFPZCIfOpVWMSYz4HOg.png"],"url":"https:\u002F\u002Finstagram-engineering.com\u002Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8","dateCreated":"2019-11-01T13:03:12.297Z","datePublished":"2019-11-01T13:03:12.297Z","dateModified":"2021-12-12T12:42:18.299Z","headline":"Making instagram.com faster: Code size and execution optimizations (Part 4)","name":"Making instagram.com faster: Code size and execution optimizations (Part 4)","description":"In recent years instagram.com has seen a lot of changes — we’ve launched stories, filters, creation tools, notifications, and direct messaging as well as a myriad of other features and enhancements…","identifier":"57668be796a8","author":{"@type":"Person","name":"Glenn Conner","url":"https:\u002F\u002Finstagram-engineering.com\u002F@mr_sharpoblunto"},"creator":["Glenn Conner"],"publisher":{"@type":"Organization","name":"Instagram Engineering","url":"instagram-engineering.com","logo":{"@type":"ImageObject","width":60,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F120\u002F1*CPgwLHR6jno_tOmF0--7eg.jpeg"}},"mainEntityOfPage":"https:\u002F\u002Finstagram-engineering.com\u002Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8"}</script><style type="text/css" data-fela-rehydration="498" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{margin:auto}.n{max-width:1504px}.o{display:flex}.u{justify-content:space-between}.ag{height:100%}.al{padding:0 24px}.am{box-shadow:0px -2px 10px rgba(0, 0, 0, 0.15)}.an{height:56px}.ao{align-items:center}.ap{position:fixed}.aq{top:0}.ar{right:0}.as{left:0}.at{z-index:500}.au{color:inherit}.av{fill:inherit}.aw{font-size:inherit}.ax{border:inherit}.ay{font-family:inherit}.az{letter-spacing:inherit}.ba{font-weight:inherit}.bb{padding:0}.bc{margin:0}.bg:disabled{cursor:default}.bh:disabled{color:rgba(117, 117, 117, 1)}.bi:disabled{fill:rgba(117, 117, 117, 1)}.bj{height:25px}.bk{fill:rgba(41, 41, 41, 1)}.bq{height:100vh}.br{flex-direction:column}.bs{position:sticky}.bt{z-index:1}.bu{height:23px}.bv{padding-bottom:35px}.bw{color:rgba(117, 117, 117, 1)}.bx{fill:rgba(117, 117, 117, 1)}.by{padding-left:28px}.bz{transition:all 0.2s ease-in-out}.cd{margin-right:28px}.ce{display:none}.cg{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.ch{font-size:16px}.ci{line-height:24px}.cj{position:relative}.ck{display:inline-block}.cl{margin:0px 0px 35px 28px }.cm{width:24px}.cn{border:0}.co{height:1px}.cp{background-color:rgba(230, 230, 230, 1)}.cq{padding:0 24px 24px}.cr{height:64px}.cs path{fill:rgba(168, 168, 168, 1)}.ct{justify-content:center}.cu{flex:1}.cv{border:none}.cw{background:transparent}.cx{box-shadow:0px 2px 10px rgba(0, 0, 0, 0.15)}.cy{z-index:600}.cz{bottom:0}.da{justify-content:space-around}.db{height:16px}.dc{background-color:rgba(237, 237, 237, 1)}.di{min-width:0}.dj{flex:1 1 auto}.dk{padding:0 32px}.dl{box-sizing:border-box}.dm{border-left:1px solid rgba(230, 230, 230, 1)}.dn{min-height:100vh}.do{width:394px}.dq{width:100%}.dr{border-bottom:1px solid rgba(230, 230, 230, 1)}.eb{margin-right:16px}.ec{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.ed{border-radius:50%}.ee{height:32px}.ef{width:32px}.eg{position:absolute}.eh{margin-right:3px}.ei{flex:0 0 auto}.ej{font-size:14px}.ek{line-height:20px}.el{overflow:hidden}.em{max-height:20px}.en{text-overflow:ellipsis}.eo{display:-webkit-box}.ep{-webkit-line-clamp:1}.eq{-webkit-box-orient:vertical}.er{word-break:break-all}.et{color:rgba(41, 41, 41, 1)}.fe{margin-left:auto}.ff{margin-right:auto}.fg{max-width:728px}.fr{height:48px}.fs{width:48px}.ft{margin-bottom:4px}.fu{flex-direction:row}.fv{padding-left:12px}.ga{font-size:13px}.gb{color:rgba(255, 255, 255, 1)}.gc{padding:0px 8px 1px}.gd{fill:rgba(255, 255, 255, 1)}.ge{background:rgba(26, 137, 23, 1)}.gf{border-color:rgba(26, 137, 23, 1)}.gi:disabled{cursor:inherit !important}.gj:disabled{opacity:0.3}.gk:disabled:hover{background:rgba(26, 137, 23, 1)}.gl:disabled:hover{border-color:rgba(26, 137, 23, 1)}.gm{border-radius:99em}.gn{border-width:1px}.go{border-style:solid}.gp{text-decoration:none}.gq{flex-wrap:wrap}.gr{padding:0 8px}.gs{margin-left:16px}.gx{background:rgba(255, 255, 255, 1)}.gy{border:1px solid rgba(230, 230, 230, 1)}.gz{border-radius:4px}.ha{box-shadow:0 1px 4px rgba(230, 230, 230, 1)}.hb{max-height:100vh}.hc{overflow-y:auto}.hd{top:calc(100vh + 100px)}.he{bottom:calc(100vh + 100px)}.hf{width:10px}.hg{pointer-events:none}.hh{word-break:break-word}.hi{word-wrap:break-word}.hj:after{display:block}.hk:after{content:""}.hl:after{clear:both}.hm{line-height:1.23}.hn{letter-spacing:0}.ho{font-style:normal}.hp{font-weight:700}.ik{margin-bottom:-0.27em}.il{line-height:1.58}.im{letter-spacing:-0.004em}.in{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.ji{margin-bottom:-0.46em}.jj{text-decoration:underline}.jk{line-height:1.31}.jl{letter-spacing:-0.022em}.jm{font-weight:600}.kh{margin-bottom:-0.37em}.kn{font-style:italic}.ks{clear:both}.kt{padding-bottom:100%}.ku{height:0}.kv{margin-top:10px}.kw{text-align:center}.kz{background-color:rgba(242, 242, 242, 1)}.la{padding:2px 4px}.lb{font-size:75%}.lc> strong{font-family:inherit}.ld{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.le{line-height:28px}.lf{letter-spacing:-0.003em}.lj{list-style-type:disc}.lk{margin-left:30px}.ll{padding-left:0px}.lm{font-size:18px}.ls{max-width:627px}.lt{max-width:100%}.lu{height:auto}.lv{line-height:1.18}.mi{margin-bottom:-0.31em}.mj{max-width:815px}.ml{cursor:zoom-in}.mm{z-index:auto}.mo{max-width:818px}.mp{max-width:817px}.mq{margin-top:16px}.mr{border-top:none}.ms{height:52px}.mt{max-height:52px}.mu{box-sizing:content-box}.nd{flex:1 0 auto}.nf{max-width:155px}.nn{-webkit-user-select:none}.no{outline:0}.np{user-select:none}.nq{cursor:pointer}.nr> svg{pointer-events:none}.oc button{text-align:left}.of{margin-left:24px}.og{fill:rgba(61, 61, 61, 1)}.oh{opacity:1}.oi{margin-top:0px}.oj{margin-left:4px}.ok{margin:0 6px 0 7px}.ol path{fill:rgba(41, 41, 41, 1)}.om{background-color:rgba(250, 250, 250, 1)}.on{padding-bottom:4px}.oo{padding-top:32px}.op{font-weight:500}.ov{-webkit-line-clamp:2}.ow{padding:7px 16px 9px}.ox{padding-top:5px}.oy{padding-top:25px}.oz{padding-bottom:96px}.pa{padding-top:40px}.pb{padding-bottom:26px}.pc{font-size:22px}.pd{align-items:flex-start}.qn{flex-grow:0}.qo{margin-bottom:20px}.qp{max-height:60px}.qq{-webkit-line-clamp:3}.qr{margin-right:8px}.qs{margin-top:4px}.qt{color:rgba(242, 242, 242, 1)}.qu{fill:rgba(242, 242, 242, 1)}.qv{background:rgba(242, 242, 242, 1)}.qw{border-color:rgba(242, 242, 242, 1)}.rc:disabled{opacity:0.1}.rd:disabled:hover{background:rgba(25, 25, 25, 1)}.re:disabled:hover{border-color:rgba(25, 25, 25, 1)}.rf{padding:40px 0}.rg{border-radius:20px}.rh{width:inherit}.ri{outline:none}.rj{margin-right:20px}.rk{padding:8px 0 11px}.rl{background-color:transparent}.rm::placeholder{color:rgba(117, 117, 117, 1)}.rn{padding:7px 7px 6px 8px}.ro{margin-top:40px}.rp{height:88px}.rq{width:88px}.rr{margin-top:12px}.rs{margin-top:24px}.rt{margin-bottom:40px}.ru{width:auto}.rv{margin-left:8px}.rw{stroke:rgba(242, 242, 242, 1)}.rx{height:36px}.ry{width:36px}.rz{margin-top:32px}.sa{margin-bottom:16px}.sb{padding:24px 0}.sc{margin-right:6px}.sd{font-size:11px}.se{line-height:16px}.bd:hover{cursor:pointer}.be:hover{color:rgba(25, 25, 25, 1)}.bf:hover{fill:rgba(25, 25, 25, 1)}.ca:hover{color:rgba(41, 41, 41, 1)}.cb:hover{fill:rgba(41, 41, 41, 1)}.gg:hover{background:rgba(15, 115, 12, 1)}.gh:hover{border-color:rgba(15, 115, 12, 1)}.nu:hover{fill:rgba(117, 117, 117, 1)}.qx:hover{background:rgba(242, 242, 242, 1)}.qy:hover{border-color:rgba(242, 242, 242, 1)}.qz:hover{cursor:wait}.ra:hover{color:rgba(242, 242, 242, 1)}.rb:hover{fill:rgba(242, 242, 242, 1)}.mn:focus{transform:scale(1.01)}.nt:focus{fill:rgba(117, 117, 117, 1)}.ns:active{border-style:none}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.t{flex-direction:row}.z{width:80px}.ab{min-height:100vh}.ac{flex-shrink:1}.ae{border-right:1px solid rgba(230, 230, 230, 1)}.bl{display:block}.bm{text-align:center}.bn{padding:40px 0}.dh{margin-bottom:0}.dy{margin:0 32px}.dz{max-width:692px}.ey{margin-bottom:40px}.fd{padding:0 16px}.fp{margin-bottom:32px}.fq{margin-top:56px}.ig{font-size:32px}.ih{margin-top:0.6em}.ii{line-height:40px}.ij{letter-spacing:-0.016em}.je{font-size:20px}.jf{margin-top:2em}.jg{line-height:32px}.jh{letter-spacing:-0.003em}.kd{font-size:22px}.ke{margin-top:3.14em}.kf{line-height:28px}.kg{letter-spacing:0}.km{margin-top:0.86em}.li{margin-top:2.14em}.lr{margin-top:1.14em}.mg{margin-top:2.37em}.mh{line-height:24px}.nb{position:sticky}.nc{bottom:0}.nm{margin-right:5px}.ob{margin-top:0px}.oe{display:inline-block}.ou{max-height:48px}.pq{width:calc(100% + 32px)}.pr{margin-left:-16px}.ps{margin-right:-16px}.qj{padding-left:16px}.qk{padding-right:16px}.ql{flex-basis:50%}.qm{max-width:50%}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.kx{margin-left:auto}.ky{text-align:center}.oa{margin-top:0px}.od{display:inline-block}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.nh{display:inline-block}.nz{margin-top:0px}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.ng{display:inline-block}.nx{margin-top:0px}.ny{margin-right:16px}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.p{flex-direction:column}.v{width:auto}.ah{display:block}.dd{margin-bottom:56px}.ds{margin:0 24px}.eu{margin-bottom:80px}.ez{padding:0 8px}.fh{margin-bottom:24px}.fi{margin-top:32px}.fw{display:inline-block}.gt{display:inline-flex}.hq{font-size:32px}.hr{margin-top:0.64em}.hs{line-height:40px}.ht{letter-spacing:-0.016em}.io{font-size:18px}.ip{margin-top:1.56em}.iq{line-height:28px}.ir{letter-spacing:-0.003em}.jn{font-size:20px}.jo{margin-top:1.9em}.jp{line-height:24px}.jq{letter-spacing:0}.ki{margin-top:0.67em}.ko{margin-top:40px}.ln{margin-top:1.34em}.lw{font-size:16px}.lx{margin-top:2.07em}.ly{line-height:20px}.mv{position:static}.ni{margin-left:0px}.nv{margin-top:0px}.nw{margin-right:16px}.oq{max-height:40px}.pe{width:calc(100% + 24px)}.pf{margin-left:-12px}.pg{margin-right:-12px}.pt{padding-left:12px}.pu{padding-right:12px}.pv{flex-basis:100%}.pw{max-width:100%}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.s{flex-direction:column}.y{width:auto}.ak{display:block}.dg{margin-bottom:56px}.dw{margin:0 32px}.dx{max-width:692px}.ex{margin-bottom:40px}.fc{padding:0 16px}.fn{margin-bottom:24px}.fo{margin-top:32px}.fz{display:inline-block}.gw{display:inline-flex}.ic{font-size:32px}.id{margin-top:0.6em}.ie{line-height:40px}.if{letter-spacing:-0.016em}.ja{font-size:20px}.jb{margin-top:2em}.jc{line-height:32px}.jd{letter-spacing:-0.003em}.jz{font-size:22px}.ka{margin-top:3.14em}.kb{line-height:28px}.kc{letter-spacing:0}.kl{margin-top:0.86em}.kr{margin-top:56px}.lh{margin-top:2.14em}.lq{margin-top:1.14em}.me{margin-top:2.37em}.mf{line-height:24px}.mz{position:sticky}.na{bottom:0}.nl{margin-right:5px}.ot{max-height:48px}.pn{width:calc(100% + 32px)}.po{margin-left:-16px}.pp{margin-right:-16px}.qf{padding-left:16px}.qg{padding-right:16px}.qh{flex-basis:50%}.qi{max-width:50%}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.r{flex-direction:column}.x{width:auto}.aj{display:block}.df{margin-bottom:56px}.du{margin:0 32px}.dv{max-width:692px}.ew{margin-bottom:40px}.fb{padding:0 16px}.fl{margin-bottom:24px}.fm{margin-top:32px}.fy{display:inline-block}.gv{display:inline-flex}.hy{font-size:32px}.hz{margin-top:0.6em}.ia{line-height:40px}.ib{letter-spacing:-0.016em}.iw{font-size:20px}.ix{margin-top:2em}.iy{line-height:32px}.iz{letter-spacing:-0.003em}.jv{font-size:22px}.jw{margin-top:3.14em}.jx{line-height:28px}.jy{letter-spacing:0}.kk{margin-top:0.86em}.kq{margin-top:56px}.lg{margin-top:2.14em}.lp{margin-top:1.14em}.mc{margin-top:2.37em}.md{line-height:24px}.mx{position:sticky}.my{bottom:0}.nk{margin-right:5px}.os{max-height:48px}.pk{width:calc(100% + 28px)}.pl{margin-left:-14px}.pm{margin-right:-14px}.qb{padding-left:14px}.qc{padding-right:14px}.qd{flex-basis:50%}.qe{max-width:50%}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.q{flex-direction:column}.w{width:auto}.ai{display:block}.de{margin-bottom:56px}.dt{margin:0 24px}.ev{margin-bottom:80px}.fa{padding:0 8px}.fj{margin-bottom:24px}.fk{margin-top:32px}.fx{display:inline-block}.gu{display:inline-flex}.hu{font-size:32px}.hv{margin-top:0.64em}.hw{line-height:40px}.hx{letter-spacing:-0.016em}.is{font-size:18px}.it{margin-top:1.56em}.iu{line-height:28px}.iv{letter-spacing:-0.003em}.jr{font-size:20px}.js{margin-top:1.9em}.jt{line-height:24px}.ju{letter-spacing:0}.kj{margin-top:0.67em}.kp{margin-top:40px}.lo{margin-top:1.34em}.lz{font-size:16px}.ma{margin-top:2.07em}.mb{line-height:20px}.mw{position:static}.nj{margin-left:0px}.or{max-height:40px}.ph{width:calc(100% + 24px)}.pi{margin-left:-12px}.pj{margin-right:-12px}.px{padding-left:12px}.py{padding-right:12px}.pz{flex-basis:50%}.qa{max-width:50%}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="print">.ne{display:none}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (min-width: 7000px)">.af{width:224px}.bo{text-align:left}.bp{padding:40px 24px}.cc{display:none}.cf{display:block}.ea{margin:0 auto}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="all and (max-width: 1239.98px)">.dp{width:280px}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.es{max-height:none}</style><style type="text/css" data-fela-rehydration="498" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.mk{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="m n l"><div class="o p q r s t u"><div class="v w x y z ab ac ae af"><nav class="ag"><div class="ah ai aj ak d"><div class="al am an o ao u ap aq ar as at c"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-label="Homepage" href="https://medium.com/" rel="noopener follow"><svg viewBox="0 0 1043.63 592.71" class="bj bk"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div><div class="an l"></div></div><div class="ag h k j i bl"><div class="bq o br u bs aq bt c"><div class="bm bn bo bp"><a aria-label="Homepage" href="https://medium.com/" rel="noopener follow"><svg viewBox="0 0 1043.63 592.71" class="bu bk"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div><div class="l"><div class="bv l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/" rel="noopener follow"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Home"><path d="M4.5 10.75v10.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-5.5c0-.14.11-.25.25-.25h3.5c.14 0 .25.11.25.25v5.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-10.5M22 9l-9.1-6.83a1.5 1.5 0 0 0-1.8 0L2 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Home"><path d="M4.5 10.75v10.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-5.5c0-.14.11-.25.25-.25h3.5c.14 0 .25.11.25.25v5.5c0 .14.11.25.25.25h5c.14 0 .25-.11.25-.25v-10.5M22 9l-9.1-6.83a1.5 1.5 0 0 0-1.8 0L2 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="ce cf cg b ch ci">Home</div></div></div></a></div><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Fnotifications&amp;source=--------------------------notifications_sidenav--------------" rel="noopener follow"><div class="bv l"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Notifications"><path d="M15 18.5a3 3 0 1 1-6 0" stroke="currentColor" stroke-linecap="round"></path><path d="M5.5 10.53V9a6.5 6.5 0 0 1 13 0v1.53c0 1.42.56 2.78 1.57 3.79l.03.03c.26.26.4.6.4.97v2.93c0 .14-.11.25-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.93c0-.37.14-.71.4-.97l.03-.03c1-1 1.57-2.37 1.57-3.79z" stroke="currentColor" stroke-linejoin="round"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Notifications"><path d="M15 18.5a3 3 0 1 1-6 0" stroke="currentColor" stroke-linecap="round"></path><path d="M5.5 10.53V9a6.5 6.5 0 0 1 13 0v1.53c0 1.42.56 2.78 1.57 3.79l.03.03c.26.26.4.6.4.97v2.93c0 .14-.11.25-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.93c0-.37.14-.71.4-.97l.03-.03c1-1 1.57-2.37 1.57-3.79z" stroke="currentColor" stroke-linejoin="round"></path></svg></div><div class="ce cf cg b ch ci">Notifications</div></div></div></div></a></span><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Flists&amp;source=--------------------------lists_sidenav--------------" rel="noopener follow"><div class="bv l"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Lists"><path d="M4.5 6.25V21c0 .2.24.32.4.2l5.45-4.09a.25.25 0 0 1 .3 0l5.45 4.09c.16.12.4 0 .4-.2V6.25a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25z" stroke="currentColor" stroke-linecap="round"></path><path d="M8 6V3.25c0-.14.11-.25.25-.25h11.5c.14 0 .25.11.25.25V16.5" stroke="currentColor" stroke-linecap="round"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Lists"><path d="M4.5 6.25V21c0 .2.24.32.4.2l5.45-4.09a.25.25 0 0 1 .3 0l5.45 4.09c.16.12.4 0 .4-.2V6.25a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25z" stroke="currentColor" stroke-linecap="round"></path><path d="M8 6V3.25c0-.14.11-.25.25-.25h11.5c.14 0 .25.11.25.25V16.5" stroke="currentColor" stroke-linecap="round"></path></svg></div><div class="ce cf cg b ch ci">Lists</div></div></div></div></a></span><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fme%2Fstories%2Fdrafts&amp;source=--------------------------stories_sidenav--------------" rel="noopener follow"><div class="bv l"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Stories"><path d="M4.75 21.5h14.5c.14 0 .25-.11.25-.25V2.75a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25v18.5c0 .14.11.25.25.25z" stroke="currentColor"></path><path d="M8 8.5h8M8 15.5h5M8 12h8" stroke="currentColor" stroke-linecap="round"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Stories"><path d="M4.75 21.5h14.5c.14 0 .25-.11.25-.25V2.75a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25v18.5c0 .14.11.25.25.25z" stroke="currentColor"></path><path d="M8 8.5h8M8 15.5h5M8 12h8" stroke="currentColor" stroke-linecap="round"></path></svg></div><div class="ce cf cg b ch ci">Stories</div></div></div></div></a></span><div class="cl cm l"><hr class="cn co cp bc" aria-hidden="true"/></div><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=--------------------------new_post_sidenav--------------" rel="noopener follow"><div class="bv l"><div class="o cj"><div class="bw bx o by bz ca cb"><div class="l cc cd"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg></div></div></div><div class="ce cf cd" aria-hidden="true"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg></div><div class="ce cf cg b ch ci">Write</div></div></div></div></a></span></div><div class="cq cr o ao"></div></div></div><div class="ah ai aj ak d"><div class="l ap ar cz as at c"><div class="cx an cj cy"><div class="ag o ao da"><div class="db cm l dc"></div><div class="db cm l dc"></div><div class="db cm l dc"></div></div></div></div></div></nav></div><main class="dd de df dg dh di l dj"><div class="l"><div class="dr l"><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><div class="an o ao"><div class="eb l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://instagram-engineering.com/?source=post_page-----57668be796a8-----------------------------------" rel="noopener follow"><div class="l cj"><img alt="Instagram Engineering" class="l dl ed ee ef" src="https://miro.medium.com/fit/c/64/64/1*CPgwLHR6jno_tOmF0--7eg.jpeg" width="32" height="32"/><div class="ec ed l ee ef eg aq"></div></div></a></div><div class="eh l ei"><div class="cg b ej ek bw">Published in</div></div><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://instagram-engineering.com/?source=post_page-----57668be796a8-----------------------------------" rel="noopener follow"><p class="cg b ej ek el em en eo ep eq er es et">Instagram Engineering</p></a></div></div></div></div><div class="eu ev ew ex ey l"><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><article><div class="l"><div class="ez fa fb fc fd fe ff dq fg dl l"></div><div class="l"><header class="pw-post-byline-header fh fi fj fk fl fm fn fo fp fq l"><div class="o u"><div class="o"><div class="eb l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/@mr_sharpoblunto?source=post_page-----57668be796a8-----------------------------------" rel="noopener follow"><div class="l cj"><img alt="Glenn Conner" class="l dl ed fr fs" src="https://miro.medium.com/fit/c/96/96/0*w7Dexcjl8a_rHczk.png" width="48" height="48"/><div class="ec ed l fr fs eg aq"></div></div></a></div><div class="l"><div class="pw-author cg b ch ci et"><div class="ft o fu"><div><div class="ck" role="tooltip" aria-hidden="false"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/@mr_sharpoblunto?source=post_page-----57668be796a8-----------------------------------" rel="noopener follow">Glenn Conner</a></div></div><div class="fv fw fx fy fz d"><span><a class="cg b ga ek gb gc gd ge gf gg gh bd gi gj gk gl gm gn go dl ck gp" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F176d0a02f80b&amp;operation=register&amp;redirect=https%3A%2F%2Finstagram-engineering.com%2Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8&amp;user=Glenn+Conner&amp;userId=176d0a02f80b&amp;source=post_page-176d0a02f80b----57668be796a8---------------------follow_byline--------------" rel="noopener follow">Follow</a></span></div></div></div><div class="o ao gq"><p class="pw-published-date cg b ej ek bw"><span>Nov 1, 2019</span></p><div class="gr ck" aria-hidden="true"><span class="l" aria-hidden="true"><span class="cg b ej ek bw">·</span></span></div><div class="pw-reading-time cg b ej ek bw">7 min read</div></div></div></div><div class="gs gt gu gv gw d"></div></div></header><span class="l"></span><section><div><div class="eg as hd he hf hg"></div><div class="hh hi hj hk hl"><div class=""><h1 id="3999" class="pw-post-title hm hn ho cg hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik et">Making <a class="au gp" href="http://Instagram.com" rel="noopener ugc nofollow" target="_blank">i</a>nstagram.com faster: Code size and execution optimizations (Part 4)</h1></div><p id="6301" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">In recent years <a class="au jj" href="http://instagram.com/" rel="noopener ugc nofollow" target="_blank">instagram.com</a> has seen a lot of changes — we’ve launched stories, filters, creation tools, notifications, and direct messaging as well as a myriad of other features and enhancements. However, as the product grew, a side effect was that our web performance began to slow. Over the last year we made a conscious effort to improve this. This ongoing effort has thus far resulted in almost 50% cumulative improvement to our feed page load time. This series of blog posts will outline some of the work we’ve done that led to these improvements. In <a class="au jj" rel="noopener ugc nofollow" target="_blank" href="/making-instagram-com-faster-part-1-62cc0c327538">part 1</a> we talked about prefetching data, in <a class="au jj" rel="noopener ugc nofollow" target="_blank" href="/making-instagram-com-faster-part-2-f350c8fba0d4">part 2</a> we talked about improving performance by pushing data directly to the client rather than waiting for the client to request the data, and in <a class="au jj" rel="noopener ugc nofollow" target="_blank" href="/making-instagram-com-faster-part-3-cache-first-6f3f130b9669">part 3</a> we talked about cache-first rendering.</p><h1 id="12e3" class="jk jl ho cg jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh et">Code size and execution optimizations</h1><p id="d7ee" class="pw-post-body-paragraph il im ho in b io ki iq ir is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji hh et">In parts 1–3 we covered various ways that we optimized the loading patterns of the critical path static resources and data queries. However there is another key area we haven’t covered yet that’s crucial to improving web application performance, particularly on low-end devices — <strong class="in hp">ship less code to the user </strong>— in particular, <em class="kn">ship less JavaScript</em>. <br/> <br/> This might seem obvious, but there are a few points to consider here. There’s a common assumption in the industry that the size of the JavaScript that gets downloaded over the network is what’s important (i.e. the size <em class="kn">post-compression</em>), however we found that what’s really important is the size <em class="kn">pre-compression</em> as this is what has to be parsed and executed on the user’s device, even if it’s cached locally. This becomes particularly true if you have a site with many repeat users (and subsequent high browser cache hit rates) or users accessing your site on mobile devices. In these cases the parsing and execution performance of JavaScript on the CPU becomes the limiting factor rather than the network download time. For example, when we implemented <a class="au jj" href="https://en.wikipedia.org/wiki/Brotli" rel="noopener ugc nofollow" target="_blank">Brotli</a> compression for our JavaScript assets, we saw a nearly 20% reduction of post-compression size across the wire, but <strong class="in hp"><em class="kn">NO</em></strong> statistically significant reduction in the overall page load times as seen by end users. <br/> <br/> On the other hand, we’ve found reductions in pre-compression JavaScript size have consistently led to performance improvements. It’s also worth making a distinction between JavaScript that is executed on the critical path and JavaScript that is dynamically imported after the main page has completed. While ideally it would be nice to reduce the total amount of JavaScript in an application, a key thing to optimize in the short term is the amount of eagerly executed JavaScript on the critical path (we track this with a metric we call Critical Bytes Per Route). Dynamically imported JavaScript that lazy loads is generally not going to have as significant an effect on page load performance, so it’s a valid strategy to move non-visible or interaction dependent UI components out of the initial page bundles and into dynamically imported bundles. <br/> <br/> Refactoring our UI to reduce the amount of script on the critical path is going to be essential to improving performance in the long term — but this is a significant undertaking which will take time. In the short-term we worked on a number of projects to improve the size and execution efficiency of our existing code in ways that are largely transparent to product developers and require little refactoring of existing product code.</p><h1 id="7870" class="jk jl ho cg jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh et">Inline requires</h1><p id="e200" class="pw-post-body-paragraph il im ho in b io ki iq ir is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji hh et">We bundle our frontend web assets using <a class="au jj" href="https://facebook.github.io/metro/" rel="noopener ugc nofollow" target="_blank">Metro</a> (the same bundler used by React Native) so we get access to inline-requires out of the box. Inline-requires moves the cost of requiring/importing modules to the first time when they are actually used. This means that you can avoid paying execution cost for unused features (though you’ll still pay the cost of downloading and parsing them) and you can better amortize the execution cost over the application startup, rather than having a large amount of upfront computation.</p><figure class="ko kp kq kr fq ks"><div class="m l cj"><div class="kt ku l"></div></div><figcaption class="kv kw fg fe ff kx ky cg b ej ek bw">Enabling inline requires in React Native &amp; Instagram Web</figcaption></figure><p id="e934" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">To see how this works in practice, lets take the following example code:</p><figure class="ko kp kq kr fq ks"><div class="m l cj"><div class="kt ku l"></div></div></figure><p id="6032" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">Using inline requires this would get transformed into something like the following (you’ll find these inline requires by searching for <code class="kz la lb lc ld b">r(d[</code> in the Instagram JS source in your browser developer tools)</p><figure class="ko kp kq kr fq ks"><div class="m l cj"><div class="kt ku l"></div></div></figure><p id="125c" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">As we can see, it essentially works by replacing the local references to a required module with a function call to require that module. This means that unless the code from that module is actually used, the module is never required (and therefore never executed). In most cases this works extremely well, but there are a couple of edge cases to be aware of that can cause problems — namely modules with side effects. For example:</p><figure class="ko kp kq kr fq ks"><div class="m l cj"><div class="kt ku l"></div></div></figure><p id="5178" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">Without inline requires, Module C would output <code class="kz la lb lc ld b">{&#x27;foo&#x27;:&#x27;bar&#x27;}</code>, but when we enable inline-requires, it would output <code class="kz la lb lc ld b">undefined</code>, because B has an implicit dependency on A. This is a contrived example, but there are other real world cases where this can have effects i.e. what if a module does some logging as a part of its initialization - enabling inline-requires could cause this logging to stop happening. This is mostly preventable through linters that check for code that executes immediately at the module scope level, but there were some files we had to blacklist from this optimization such as runtime polyfills that need to execute immediately. After experimenting enabling inline requires across the codebase we saw an improvement in our Feed TTI (time to interactive) by 12% and Display Done by 9.8%, and decided that dealing with some of these minor edge cases was worth it for the performance improvements.</p><h1 id="e90a" class="jk jl ho cg jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh et">Serving ES2017 bundles to modern browsers</h1><p id="2478" class="pw-post-body-paragraph il im ho in b io ki iq ir is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji hh et">One of the primary drivers that drove the adoption of compiler/transpiler tools like Babel was allowing developers to use modern JavaScript coding idioms but still have their applications work in browsers that lacked native support for these latest language features. Since then a number of other important use-cases for these tools arose including compile-to-js languages like Typescript and ReasonML, language extensions such as JSX and Flow type annotations, and build time AST manipulations for things like internationalization. Because of this, it’s unlikely that this extra compilation step is going to go disappear from frontend development workflows any time soon. However, with that said it’s worth revisiting if the original purpose for doing this (cross browser compatibility) is still necessary in 2019.<br/> <br/> ES2015 and more recent features like async/await are now well supported across recent versions of most major browsers, so directly serving JavaScript containing these newer features is definitely possible — but there are two key questions that we had to answer first:</p><ul class=""><li id="589d" class="le lf ho in b io ip is it iw lg ja lh je li ji lj lk ll lm et">Would enough users be able to take advantage of this to make the extra build complexity worthwhile (as you’d still need to maintain the legacy transpiling step for older browsers),</li><li id="5668" class="le lf ho in b io ln is lo iw lp ja lq je lr ji lj lk ll lm et">And what (if any) are the performance advantages of shipping ES2015+ features</li></ul><p id="d366" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">To answer the first question we first had to determine which features we were going to ship without transpiling/polyfilling and how many build variants we wanted to support for the different browsers. We settled on having two builds, one that would require support for ES2017 syntax, and a legacy build that would transpile back to ES5 (in addition we also added an optional polyfill bundle that would only be added for legacy browsers that lacked runtime support for more recent DOM API’s). Detecting support for these groups is done via some basic user-agent sniffing on the server side which ensures there is no runtime cost or extra roundtrip time from doing client-side detection of which bundles to load.</p><figure class="ko kp kq kr fq ks"><div class="m l cj"><div class="kt ku l"></div></div></figure><p id="b5c8" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">With this in mind, we ran the numbers and determined that 56% of users to <a class="au jj" href="http://instagram.com" rel="noopener ugc nofollow" target="_blank">instagram.com</a> are able to be served the ES2017 build without any transpiling or runtime polyfills, and considering that this percentage is only going to go up over time — it seems like its worth supporting two builds considering the number of users able to utilize it.</p><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div class="fe ff ls"><img alt="" class="dq lt lu" src="https://miro.medium.com/max/1254/1*HDLCFPZCIfOpVWMSYz4HOg.png" width="627" height="627" role="presentation"/></div><figcaption class="kv kw fg fe ff kx ky cg b ej ek bw">Percentage of Instagram users with ES2017 supported vs unsupported browsers</figcaption></figure><p id="2a13" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">As for the second question — what are the performance advantages of shipping ES2017 directly — lets start by looking at what Babel actually does to transpile some common constructs back to ES5. In the left hand column is the ES2017 code, and on the right is the transpiled ES5 compatible version.</p><h2 id="fdb0" class="lv jl ho cg jm lw lx ly jq lz ma mb ju iw mc md jy ja me mf kc je mg mh kg mi et">Class (ES2017 vs ES5)</h2><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml cj mm dq mn"><div class="fe ff mj"><img alt="" class="dq lt lu" src="https://miro.medium.com/max/1400/1*2_e9ARhf2RfO0rGy7aSA4w.png" width="700" height="808" role="presentation"/></div></div></figure><h2 id="bad2" class="lv jl ho cg jm lw lx ly jq lz ma mb ju iw mc md jy ja me mf kc je mg mh kg mi et">Async/Await (ES2017 vs ES5)</h2><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml cj mm dq mn"><div class="fe ff mo"><img alt="" class="dq lt lu" src="https://miro.medium.com/max/1400/1*WqgXcDXCe9r9xdhfcxPiQA.png" width="700" height="677" role="presentation"/></div></div></figure><h2 id="0f4b" class="lv jl ho cg jm lw lx ly jq lz ma mb ju iw mc md jy ja me mf kc je mg mh kg mi et">Arrow functions (ES2017 vs ES5)</h2><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml cj mm dq mn"><div class="fe ff mj"><img alt="" class="dq lt lu" src="https://miro.medium.com/max/1400/1*_b476jWcR3BNPRErC7JlxQ.png" width="700" height="78" role="presentation"/></div></div></figure><h2 id="38d3" class="lv jl ho cg jm lw lx ly jq lz ma mb ju iw mc md jy ja me mf kc je mg mh kg mi et">Rest parameters (ES2017 vs ES5)</h2><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml cj mm dq mn"><div class="fe ff mp"><img alt="" class="dq lt lu" src="https://miro.medium.com/max/1400/1*WNRff6CfGqEAb4m1jZO_sQ.png" width="700" height="144" role="presentation"/></div></div></figure><h2 id="328e" class="lv jl ho cg jm lw lx ly jq lz ma mb ju iw mc md jy ja me mf kc je mg mh kg mi et">Destructuring assignment (ES2017 vs ES5)</h2><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml cj mm dq mn"><div class="fe ff mo"><img alt="" class="dq lt lu" src="https://miro.medium.com/max/1400/1*Y8iA5py-J4NBdXPSfQ4cug.png" width="700" height="366" role="presentation"/></div></div></figure><p id="6c5b" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hh et">From this we can see that there is a considerable size overhead in transpiling these constructs (even if you amortize the cost of some of the runtime helper functions over a large codebase). In the case of Instagram, we saw a 5.7% reduction in the size of our core consumer JavaScript bundles when we removed all ES2017 transpiling plugins from our build. In testing we found that the end-to-end load times for the feed page improved by 3% for users who were served the ES2017 bundle compared with those who were not.</p><h1 id="e14a" class="jk jl ho cg jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh et">Still a long way to go</h1><p id="c646" class="pw-post-body-paragraph il im ho in b io ki iq ir is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji hh et">While the progress that has been made so far is impressive, the work we’ve done so far represents just the beginning. Theres still a huge amount of room left for improvement in areas such as Redux store/reducer modularization, better code splitting, moving more JavaScript execution off the critical path, optimizing scroll performance, adjusting to different bandwidth conditions, and more. <br/> <br/> If you want to learn more about this work or are interested joining one of our engineering teams, please visit our <a class="au jj" href="https://www.facebook.com/careers/jobs/?q=instagram" rel="noopener ugc nofollow" target="_blank">careers page</a>, follow us <a class="au jj" href="https://www.facebook.com/instagramengineering/" rel="noopener ugc nofollow" target="_blank">on Facebook</a> or <a class="au jj" href="https://twitter.com/instagrameng" rel="noopener ugc nofollow" target="_blank">on Twitter</a>.</p></div></div></section></div></div></article></div></div><div class="mq l"></div><div class="l"></div><footer class="mr ms mt mu o ao mv mw mx my mz na nb nc c"><div class="l nd"><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><div class="o u ne"><div class="o ao fu"><div class="nf l"><span class="l fw ng nh e d"><div class="o ao fu"><div class="pw-multi-vote-icon cj ni nj nk nl nm nn"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Finstagram-engineering%2F57668be796a8&amp;operation=register&amp;redirect=https%3A%2F%2Finstagram-engineering.com%2Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8&amp;user=Glenn+Conner&amp;userId=176d0a02f80b&amp;source=post_actions_footer-----57668be796a8---------------------clap_footer--------------" rel="noopener follow"><div class="bb no cn np nq nr ns nn bk nt nu"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></a></span></div><div class="pw-multi-vote-count l nv nw nx ny nz oa ob"><div class="oc"><p class="cg b ej ek et"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi">2K<span class="l h g f od oe"> </span></button><span class="l h g f od oe"></span></p></div></div></div></span><span class="l h g f od oe"><div class="o ao fu"><div class="pw-multi-vote-icon cj ni nj nk nl nm nn"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Finstagram-engineering%2F57668be796a8&amp;operation=register&amp;redirect=https%3A%2F%2Finstagram-engineering.com%2Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8&amp;user=Glenn+Conner&amp;userId=176d0a02f80b&amp;source=post_actions_footer-----57668be796a8---------------------clap_footer--------------" rel="noopener follow"><div class="bb no cn np nq nr ns nn bk nt nu"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></a></span></div><div class="pw-multi-vote-count l nv nw nx ny nz oa ob"><div class="oc"><p class="cg b ej ek et"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi">2K<!-- --> </button></p></div></div></div></span></div><div class="of o"><div class="o"><button class="nq cn bb" aria-label="responses"><div class="o ao fu"><div class="o ao"><div><div class="ck" role="tooltip" aria-hidden="false"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="responses" class="og oh nq nu oi"><path d="M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"></path></svg></div></div><p class="cg b ej ek et"><span class="pw-responses-count oj oi oh">7</span></p></div></div></button></div></div></div><div class="o ao"><div class="ck" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="ck" role="tooltip" aria-hidden="false"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="bk"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div><div class="ok l ei"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F57668be796a8&amp;operation=register&amp;redirect=https%3A%2F%2Finstagram-engineering.com%2Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8&amp;source=post_actions_footer--------------------------bookmark_footer--------------" rel="noopener follow"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="ol"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="#292929"></path></svg></a></span></div></div></div></div></div></div></footer></div><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"></div></div><div class="l"><div class="l om ne"><div class="l ne"><div class="on oo l om"><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><div class="o ao u"><h2 class="cg op lw ly oq jq lz mb or ju iw md os jy ja mf ot kc je mh ou kg el en eo ov eq es et"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://instagram-engineering.com/?source=post_page-----57668be796a8-----------------------------------" rel="noopener follow">More from Instagram Engineering</a></h2><div class="ck" aria-hidden="false" aria-describedby="collectionFollowPopover" aria-labelledby="collectionFollowPopover"><span><a class="cg b ej ek gb ow gd ge gf gg gh bd gi gj gk gl gm gn go dl ck gp" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Finstagram-engineering%2F57668be796a8&amp;operation=register&amp;redirect=https%3A%2F%2Finstagram-engineering.com%2Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8&amp;collection=Instagram+Engineering&amp;collectionId=37dc2a3034f2&amp;source=post_page-----57668be796a8---------------------follow_footer--------------" rel="noopener follow"><div class="o fu">Follow</div></a></span></div></div><div class="ox l"><p class="cg b ej ek bw">Stories from the people who build @Instagram</p></div></div></div></div></div><div class="oy l"><div class="oz pa l"><div class="lt l kw"><a class="cg b ej ek gb ow gd ge gf gg gh bd gi gj gk gl gm gn go dl ck gp" href="https://instagram-engineering.com/?source=post_page-----57668be796a8-----------------------------------" rel="noopener follow">Read more from <!-- -->Instagram Engineering</a></div></div></div><div class="o ct"><div class="di dq ds dt du dv dw dx dy dz ea"><div class="pa l"><section class="pw-more-medium-articles l"><div class="pb l"><h2 class="cg op pc le hn et">More from Medium</h2></div><div class="pd o fu gq pe pf pg ph pi pj pk pl pm pn po pp pq pr ps"><div class="pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql qm qn"><div class="dq ag"><a href="https://brightlivingstone.medium.com/which-is-the-best-java-script-framework-in-2017-91ff2921ebe5?source=post_internal_links---------0-------------------------------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Which is the best Java Script framework in 2017?</div></div></div></div></div></a></div></div><div class="pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql qm qn"><div class="dq ag"><a href="https://medium.com/ng-news/issue-22-07-e49caac79972?source=post_internal_links---------1-------------------------------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Issue 22/07</div></div><div class="cg b ga ek el em en eo ep eq er es bw"><div>This is a weekly posting, covering the latest updates from the Angular community.</div></div></div></div></div></a></div></div><div class="pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql qm qn"><div class="dq ag"><a href="https://ajeasmith.medium.com/full-stack-react-part-4-react-graphql-express-mongodb-54d78f7cb7b2?source=post_internal_links---------2-------------------------------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/0*qvKBS-PQvW1eXv8A" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Full Stack React — Part 4(React, GraphQL, Express, MongoDB)</div></div></div></div></div></a></div></div><div class="pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql qm qn"><div class="dq ag"><a href="https://djangoshelton.medium.com/ci-cd-pipeline-patterns-for-javascript-part-3-283f3b135d95?source=post_internal_links---------3-------------------------------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/1*jhKICbS2qpuP_hr7CxfjxA.jpeg" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>CI / CD Pipeline Patterns For JavaScript (Part 3)</div></div></div></div></div></a></div></div><div class="pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql qm qn"><div class="dq ag"><a href="https://medium.com/@nk_57630/starter-algorithms-find-first-duplicate-b0cc5ea164e2?source=post_internal_links---------4-------------------------------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/1*GviCc_3szI_UQzufwbKcYw.png" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Starter Algorithms — Find First Duplicate</div></div><div class="cg b ga ek el em en eo ep eq er es bw"><div>Question: Given an Array, find the first duplicate value that occurs. If there are no duplicates, return -1.</div></div></div></div></div></a></div></div><div class="pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql qm qn"><div class="dq ag"><a href="https://itnext.io/practical-data-structures-for-frontend-applications-when-to-use-linked-lists-8ef9826a745?source=post_internal_links---------5-------------------------------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/1*IbiU2ECEJwf4MZcL66Xs4g.jpeg" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Practical Data Structures for Frontend Applications: When to use Linked Lists</div></div></div></div></div></a></div></div><div class="pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql qm qn"><div class="dq ag"><a href="https://prishusoft-32947.medium.com/integrate-adminlte-theme-to-reactjs-app-dd07e5c72750?source=post_internal_links---------6-------------------------------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/1*6aQGu8PJlvbd0KS1wLutDw.png" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Integrate AdminLTE theme to Reactjs app.</div></div><div class="cg b ga ek el em en eo ep eq er es bw"><div>Here is detailed article which explained in detail how to Integrate AdminLTE theme to Reactjs app.</div></div></div></div></div></a></div></div><div class="pt pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql qm qn"><div class="dq ag"><a href="https://haydendekker.medium.com/vaadin-ui-closed-detection-ac0c18e561eb?source=post_internal_links---------7-------------------------------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/1*4ki0mB8VDCrNVB5wRFdELg.jpeg" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Vaadin UI closed detection</div></div><div class="cg b ga ek el em en eo ep eq er es bw"><div>A quick how-to on detecting when a user has closed a browser UI tab.</div></div></div></div></div></a></div></div></div></section></div></div></div></div></div></div></main><div class="dk dl c dm h k j i bl dn do dp"><div class="ag dq ck cj"><div class="l bs aq"><div class="dn o br"><div class="l nd"><div class="l c"><div class="l"><div class="pa o ao"><div class="pw-susi-button l nd"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Finstagram-engineering.com%2Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8&amp;source=--------------------------nav_reg--------------" rel="noopener follow"><button class="cg b ej ek qt ow qu qv qw qx qy qz ra rb gi rc rd re gm dq gn go dl ck gp" aria-label="sign up">Get started</button></a></span></div></div></div><div class="rf l"><div class="o gy rg rh"><div class="ck" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><span class="rn l"><svg width="25" height="25" viewBox="0 0 25 25" fill="rgba(8, 8, 8, 1)"><path d="M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"></path></svg></span><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" tabindex="0" class="cv ri cg ej ek rj dq rk rl et rm" placeholder="Search" value=""/></div><div class="ro l"></div><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/@mr_sharpoblunto" rel="noopener follow"><div class="l cj"><img alt="Glenn Conner" class="l dl ed rp rq" src="https://miro.medium.com/fit/c/176/176/0*w7Dexcjl8a_rHczk.png" width="88" height="88"/><div class="ec ed l rp rq eg aq"></div></div></a><div class="mq l"></div><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/@mr_sharpoblunto" rel="noopener follow"><h2 class="pw-author-name cg op ch ek hn et">Glenn Conner</h2></a><div class="qs l"></div><p class="cg b ej ek et"><span class="pw-follower-count cg b ch ci bw"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi">1K Followers</button></span></p><div class="rr l"></div><p class="cg b ej ek bw">Interested in games, art, technology, and distributing the future.</p><div class="rs l"></div><div class="rt o"><span><a class="cg b ej ek gb ow gd ge gf gg gh bd gi gj gk gl gm ru gn go dl ck gp" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F176d0a02f80b&amp;operation=register&amp;redirect=https%3A%2F%2Finstagram-engineering.com%2Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8&amp;user=Glenn+Conner&amp;userId=176d0a02f80b&amp;source=publisher_header_actions-176d0a02f80b-------------------------follow_profile--------------" rel="noopener follow">Follow</a></span><div class="rv l"><div><div><div class="ck" role="tooltip" aria-hidden="false"><div class="l"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F17039b5cdaf7&amp;operation=register&amp;redirect=https%3A%2F%2Finstagram-engineering.com%2Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8&amp;newsletterV3=176d0a02f80b&amp;newsletterV3Id=17039b5cdaf7&amp;user=Glenn+Conner&amp;userId=176d0a02f80b&amp;source=publisher_header_actions--------------------------subscribe_user--------------" rel="noopener follow"><button class="cg b ej ek qt bb qu qv qw qx qy qz ra rb gi gj gk gl gm gn go dl ck gp" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="rw rx ry"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25" stroke-width="0.5"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)" stroke-width="0.5"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5" stroke-linecap="round"></path><path d="M11.5 14.5L19 20l4-3" stroke-linecap="round"></path></svg></button></a></span></div></div></div></div></div></div><div class="rz l"><div class="l"><div class="sa ro l"><h2 class="cg op ch ek hn et">Related</h2></div><div class="l"><div class="dq ag"><a href="https://jatinhabibkar.medium.com/reusable-components-in-react-4fdfd269c6c9?source=read_next_recirc---------0---------------------028950aa_97a3_46fc_87c4_b8cd013561a7----------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/1*um16MBQjDY65vZt_Ymv7QQ.png" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Reusable components in REACT</div></div><div class="cg b ga ek el em en eo ep eq er es bw"><div>In React, a reusable component is a piece of UI that can be used in various parts of an application to build more than one UI instance.</div></div></div></div></div></a></div><div class="dq ag"><a href="https://medium.com/@thomas.chappel4/reusable-popover-or-menu-with-material-ui-and-typescript-4e5c846113e8?source=read_next_recirc---------1---------------------028950aa_97a3_46fc_87c4_b8cd013561a7----------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/0*tjLsI_-a-CLboBG-" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Reusable Popover (or Menu) with Material UI and Typescript</div></div></div></div></div></a></div><div class="dq ag"><a href="https://m0bile-m4gic.medium.com/this-post-is-also-available-as-a-youtube-video-that-can-be-checked-out-here-youtube-3da635b913f0?source=read_next_recirc---------2---------------------028950aa_97a3_46fc_87c4_b8cd013561a7----------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/1*5aBlFfHcf8IOaa9KxXiUIg.png" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>This post is also available as a youtube video that can be checked out here: {% youtube…</div></div></div></div></div></a></div><div class="dq ag"><a href="https://bianca-dragomir.medium.com/archiving-ios-react-native-app-in-an-nrwl-monorepo-debugging-guide-8f207c69d777?source=read_next_recirc---------3---------------------028950aa_97a3_46fc_87c4_b8cd013561a7----------" rel="noopener follow"><div class="qo o br ct"><div class="o fu"><img alt="" class="qr qs" src="https://miro.medium.com/focal/116/116/50/50/1*BpKaDmeZY759c9CSR9CMHg.png" width="58" height="58" role="presentation"/><div class="o br"><div class="cg b ga ek el qp en eo qq eq es et"><div>Archiving iOS React Native app in an NRWL monorepo: debugging guide</div></div></div></div></div></a></div></div></div></div></div></div></div><div class="sb o fu gq"><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://help.medium.com/hc/en-us" rel="noopener follow"><p class="cg b sd se bw">Help</p></a></div><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.statuspage.io" rel="noopener follow"><p class="cg b sd se bw">Status</p></a></div><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://about.medium.com/creators/" rel="noopener follow"><p class="cg b sd se bw">Writers</p></a></div><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://blog.medium.com" rel="noopener follow"><p class="cg b sd se bw">Blog</p></a></div><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e" rel="noopener follow"><p class="cg b sd se bw">Careers</p></a></div><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9" rel="noopener follow"><p class="cg b sd se bw">Privacy</p></a></div><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f" rel="noopener follow"><p class="cg b sd se bw">Terms</p></a></div><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/about?autoplay=1" rel="noopener follow"><p class="cg b sd se bw">About</p></a></div><div class="sc l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://knowable.fyi" rel="noopener follow"><p class="cg b sd se bw">Knowable</p></a></div></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20220304-174333-eb54f2232e"</script><script>window.__GRAPHQL_URI__ = "https://instagram-engineering.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"auroraPage":{"isAuroraPageEnabled":false},"bookReader":{"assets":{},"reader":{"currentAsset":null,"currentGFI":null,"settingsPanelIsOpen":false,"settings":{"fontFamily":"CHARTER","fontScale":"M","publisherStyling":false,"textAlignment":"start","theme":"White","lineSpacing":0,"wordSpacing":0,"letterSpacing":0},"internalNavCounter":0,"currentSelection":null}},"cache":{"experimentGroupSet":true,"reason":"This request is not using the cache middleware worker","group":"disabled","tags":["group-edgeCachePosts","post-57668be796a8","user-176d0a02f80b","collection-37dc2a3034f2"],"serverVariantState":"","middlewareEnabled":false,"cacheStatus":"DYNAMIC","shouldUseCache":false,"vary":["enable_medium_app"]},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"COLLECTION","id":"37dc2a3034f2","explicit":true},"viewerIsBot":false},"debug":{"requestId":"b5220e86-c355-467a-9141-cde9efbd68ff","hybridDevServices":[],"showBookReaderDebugger":false,"originalSpanCarrier":{"ot-tracer-spanid":"1a39a8ff4d386f96","ot-tracer-traceid":"25aadac5f8f832f1","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Finstagram-engineering.com\u002Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8","host":"instagram-engineering.com","hostname":"instagram-engineering.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false},"tracing":{},"userOnboarding":{"showFirstBookPurchaseTooltip":false},"config":{"nodeEnv":"production","version":"main-20220304-174333-eb54f2232e","isTaggedVersion":false,"isMediumDotApp":false,"isMediumDotAppVariant":false,"target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20220304-174333-eb54f2232e","disableClientReporting":true},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20220304-174333-eb54f2232e","commit":"eb54f2232e796aa494d4fa65561cd79d566ec440"}},"datacenter":"us"},"googleAnalyticsCode":"UA-24232453-2","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"cwr8xtycwgjryv82","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyWithTrial":"d5ee3dbe3db8","yearly":"a40ad4a43185","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"variantFlags":[{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"author_fair_distribution_non_qp3","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"author_under_quota_fair_distribution","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"covid_19_cdc_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_mobile_featured_chunk","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_partner_program_enrollment","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_annual_renewal_reminder_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_about_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_tag_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards_byline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_auto_follow_on_subscribe","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automod","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_google_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_trial_membership","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_text_me_the_app","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_creator_about_editor","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_creator_welcome_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_custom_domain_v2_settings","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_generation_pipeline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_tagline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_email_sign_in_captcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_evhead_com_to_ev_medium_com_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_expanded_feature_chunk_pool","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_fdh_hybrid_fallback","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_by_resend_rules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_fix_collection_follow_counts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_fix_follow_counts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_group_gifting","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_highlander_member_digest","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hightower_user_bonus","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hot_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hot_topics_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_iceland_forced_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_import","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_in_context_sharing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_legacy_feed_in_iceland","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_li_homepage_write_cta","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_continue_this_thread","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pub_homepage_for_selected_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_response_markup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_stories","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_topics_edge_cache","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lohp_bg_yellow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mobile_regwall_read_in_app_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mobile_web_editor_redirect_route","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mps_gift_membership_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mute","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_member_welcome_email_enhancement","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_three_dot_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_newsletter_lo_flow_custom_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_paywall_conversions_for_referred_members","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pill_based_home_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_page_write_cta","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_settings_screen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pp_dashboard_referred_earnings","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recirc_reboot_lo","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_referred_memberships","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_referred_memberships_custom_messaging","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_reply_to_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_reading_history","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_robometric_scanner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_seamless_social_sharing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_signup_friction","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_speechify_widget","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_subscriber_stats_referred","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_susi_email_simplified_copy","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tag_recs","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipalti_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_triton_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trumpland_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_twitter_auth_suggestions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_follower_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_new_member_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_new_user_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound"}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_iceland_nux","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_in_app_free_trial","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_social_share_sheet","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_user_follows","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"post_edge_cache_enabled","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"post_edge_cache_enabled_moc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"posts_under_quota_fair_distribution","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"provider_for_credit_card_form","valueType":{"__typename":"VariantFlagString","value":"BRAINTREE"}},{"__typename":"VariantFlag","name":"pub_sidebar","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"reader_fair_distribution_non_qp","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefined_top_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"show_pp_awareness_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"skip_fs_cache_user_vals","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"skip_sign_in_recaptcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"unhide_mobile_ctas","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"collectionByDomainOrSlug({\"domainOrSlug\":\"instagram-engineering.com\"})":{"__ref":"Collection:37dc2a3034f2"},"postResult({\"id\":\"57668be796a8\"})":{"__ref":"Post:57668be796a8"},"recirc({\"paging\":{\"limit\":4},\"postId\":\"57668be796a8\"})":{"__typename":"RexRecircResult","items":[{"__typename":"RexRecircItem","post":{"__ref":"Post:4fdfd269c6c9"},"feedId":"028950aa-97a3-46fc-87c4-b8cd013561a7"},{"__typename":"RexRecircItem","post":{"__ref":"Post:4e5c846113e8"},"feedId":"028950aa-97a3-46fc-87c4-b8cd013561a7"},{"__typename":"RexRecircItem","post":{"__ref":"Post:3da635b913f0"},"feedId":"028950aa-97a3-46fc-87c4-b8cd013561a7"},{"__typename":"RexRecircItem","post":{"__ref":"Post:8f207c69d777"},"feedId":"028950aa-97a3-46fc-87c4-b8cd013561a7"}]}},"Collection:37dc2a3034f2":{"id":"37dc2a3034f2","__typename":"Collection","customStyleSheet":null,"colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFFFFFFF","point":0},{"__typename":"ColorPoint","color":"#FFE8F3E8","point":0.1},{"__typename":"ColorPoint","color":"#FFE8F3E8","point":0.2},{"__typename":"ColorPoint","color":"#FFD1E7D1","point":0.6},{"__typename":"ColorPoint","color":"#FFA3D0A2","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF1A8917","point":0},{"__typename":"ColorPoint","color":"#FF11800E","point":0.1},{"__typename":"ColorPoint","color":"#FF0F730C","point":0.2},{"__typename":"ColorPoint","color":"#FF095407","point":1}]},"tintBackgroundSpectrum":null},"googleAnalyticsId":null,"domain":"instagram-engineering.com","name":"Instagram Engineering","slug":"instagram-engineering","newsletterV3":null,"avatar":{"__ref":"ImageMetadata:1*CPgwLHR6jno_tOmF0--7eg.jpeg"},"isAuroraVisible":false,"legacyHeaderBackgroundImage":{"__ref":"ImageMetadata:1*U2pmsvJuLPL7dA4oLgvbMA.jpeg"},"navItems":[{"__typename":"NavItem","tagSlug":"machine-learning","title":"Machine Learning","url":"https:\u002F\u002Finstagram-engineering.com\u002Ftagged\u002Fmachine-learning"},{"__typename":"NavItem","tagSlug":"android","title":"Android","url":"https:\u002F\u002Finstagram-engineering.com\u002Ftagged\u002Fandroid"},{"__typename":"NavItem","tagSlug":"ios","title":"iOS","url":"https:\u002F\u002Finstagram-engineering.com\u002Ftagged\u002Fios"},{"__typename":"NavItem","tagSlug":"infrastructure","title":"Infrastructure","url":"https:\u002F\u002Finstagram-engineering.com\u002Ftagged\u002Finfrastructure"},{"__typename":"NavItem","tagSlug":"data","title":"Data","url":"https:\u002F\u002Finstagram-engineering.com\u002Ftagged\u002Fdata"},{"__typename":"NavItem","tagSlug":"open-source","title":"Open Source","url":"https:\u002F\u002Finstagram-engineering.com\u002Ftagged\u002Fopen-source"},{"__typename":"NavItem","tagSlug":"team","title":"Team","url":"https:\u002F\u002Finstagram-engineering.com\u002Ftagged\u002Fteam"},{"__typename":"NavItem","tagSlug":null,"title":"View All Posts","url":"https:\u002F\u002Fengineering.instagram.com\u002Flatest"}],"canToggleEmail":false,"logo":{"__ref":"ImageMetadata:1*CPgwLHR6jno_tOmF0--7eg.jpeg"},"subscriberCount":24651,"twitterUsername":"instagrameng","facebookPageId":null,"creator":{"__ref":"User:a4c6efa67fe0"},"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","status":"ACTIVE","isSubdomain":false}},"ptsQualifiedAt":1616092914555,"description":"Stories from the people who build @Instagram","isAuroraEligible":false,"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:37dc2a3034f2-viewerId:lo_f02cf958d8bd"}},"ImageMetadata:1*CPgwLHR6jno_tOmF0--7eg.jpeg":{"id":"1*CPgwLHR6jno_tOmF0--7eg.jpeg","__typename":"ImageMetadata","originalHeight":1000,"originalWidth":1000},"ImageMetadata:1*U2pmsvJuLPL7dA4oLgvbMA.jpeg":{"id":"1*U2pmsvJuLPL7dA4oLgvbMA.jpeg","__typename":"ImageMetadata","originalWidth":2048,"focusPercentX":null,"focusPercentY":null},"User:176d0a02f80b":{"id":"176d0a02f80b","__typename":"User","name":"Glenn Conner","username":"mr_sharpoblunto","newsletterV3":{"__ref":"NewsletterV3:17039b5cdaf7"},"viewerIsUser":false,"isSuspended":false,"customStyleSheet":null,"customDomainState":null,"hasSubdomain":false,"about":"","bookAuthor":null,"homepagePostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:57668be796a8"}]},"socialStats":{"__typename":"SocialStats","followerCount":1043,"followingCount":40,"collectionFollowingCount":2},"imageId":"0*w7Dexcjl8a_rHczk.png","mediumMemberAt":0,"isPartnerProgramEnrolled":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:176d0a02f80b-viewerId:lo_f02cf958d8bd"},"postSubscribeMembershipUpsellShownAt":0,"allowNotes":true,"isAuroraVisible":true,"bio":"Interested in games, art, technology, and distributing the future.","twitterScreenName":"mr_sharpoblunto","referredMembershipCustomHeadline":"","referredMembershipCustomBody":"","atsQualifiedAt":1612205351589,"followedCollections":3},"NewsletterV3:17039b5cdaf7":{"id":"17039b5cdaf7","__typename":"NewsletterV3","slug":"176d0a02f80b","name":"176d0a02f80b","description":"","promoHeadline":"","promoBody":"","collection":null,"type":"NEWSLETTER_TYPE_AUTHOR","user":{"__ref":"User:176d0a02f80b"},"subscribersCount":3,"showPromo":false},"Post:57668be796a8":{"id":"57668be796a8","__typename":"Post","canonicalUrl":"","collection":{"__ref":"Collection:37dc2a3034f2"},"content({\"postMeteringOptions\":null})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:251f4fa797e4_0"},{"__ref":"Paragraph:251f4fa797e4_1"},{"__ref":"Paragraph:251f4fa797e4_2"},{"__ref":"Paragraph:251f4fa797e4_3"},{"__ref":"Paragraph:251f4fa797e4_4"},{"__ref":"Paragraph:251f4fa797e4_5"},{"__ref":"Paragraph:251f4fa797e4_6"},{"__ref":"Paragraph:251f4fa797e4_7"},{"__ref":"Paragraph:251f4fa797e4_8"},{"__ref":"Paragraph:251f4fa797e4_9"},{"__ref":"Paragraph:251f4fa797e4_10"},{"__ref":"Paragraph:251f4fa797e4_11"},{"__ref":"Paragraph:251f4fa797e4_12"},{"__ref":"Paragraph:251f4fa797e4_13"},{"__ref":"Paragraph:251f4fa797e4_14"},{"__ref":"Paragraph:251f4fa797e4_15"},{"__ref":"Paragraph:251f4fa797e4_16"},{"__ref":"Paragraph:251f4fa797e4_17"},{"__ref":"Paragraph:251f4fa797e4_18"},{"__ref":"Paragraph:251f4fa797e4_19"},{"__ref":"Paragraph:251f4fa797e4_20"},{"__ref":"Paragraph:251f4fa797e4_21"},{"__ref":"Paragraph:251f4fa797e4_22"},{"__ref":"Paragraph:251f4fa797e4_23"},{"__ref":"Paragraph:251f4fa797e4_24"},{"__ref":"Paragraph:251f4fa797e4_25"},{"__ref":"Paragraph:251f4fa797e4_26"},{"__ref":"Paragraph:251f4fa797e4_27"},{"__ref":"Paragraph:251f4fa797e4_28"},{"__ref":"Paragraph:251f4fa797e4_29"},{"__ref":"Paragraph:251f4fa797e4_30"},{"__ref":"Paragraph:251f4fa797e4_31"},{"__ref":"Paragraph:251f4fa797e4_32"},{"__ref":"Paragraph:251f4fa797e4_33"},{"__ref":"Paragraph:251f4fa797e4_34"},{"__ref":"Paragraph:251f4fa797e4_35"}],"sections":[{"__typename":"Section","name":"f8d7","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"creator":{"__ref":"User:176d0a02f80b"},"customStyleSheet":null,"isPublished":true,"isLocked":false,"isMarkedPaywallOnly":false,"mediumUrl":"https:\u002F\u002Finstagram-engineering.com\u002Fmaking-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8","visibility":"PUBLIC","allowResponses":true,"postResponses":{"__typename":"PostResponses","count":7},"isLimitedState":false,"firstPublishedAt":1572613392297,"isNewsletter":false,"layerCake":3,"tags":[{"__ref":"Tag:javascript"},{"__ref":"Tag:es2017"},{"__ref":"Tag:react-native"},{"__ref":"Tag:web-performance"},{"__ref":"Tag:instagram"}],"topics":[{"__typename":"Topic","name":"Javascript"},{"__typename":"Topic","name":"Programming"}],"readingTime":6.999056603773585,"uniqueSlug":"making-instagram-com-faster-code-size-and-execution-optimizations-part-4-57668be796a8","isSeries":false,"sequence":null,"primaryTopic":{"__ref":"Topic:63c6f1f93ee"},"socialTitle":"","socialDek":"","noIndex":null,"curationStatus":"CURATION_STATUS_DISTRIBUTED","metaDescription":"","latestPublishedAt":1572613392297,"previewContent":{"__typename":"PreviewContent","subtitle":"Covers approaches to how we improved performance by reducing JavaScript size & making that Javascript execute more efficiently."},"previewImage":{"__ref":"ImageMetadata:1*HDLCFPZCIfOpVWMSYz4HOg.png"},"isShortform":false,"isSuspended":false,"responseRootPost":{"__typename":"ResponseRootPost","post":{"__ref":"Post:57668be796a8"}},"lockedSource":"LOCKED_POST_SOURCE_NONE","clapCount":2001,"statusForCollection":"APPROVED","pendingCollection":null,"title":"Making instagram.com faster: Code size and execution optimizations (Part 4)","inResponseToEntityType":null,"seoTitle":"","updatedAt":1639312938299,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","isIndexable":true,"pinnedAt":0,"internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[{"__ref":"Post:91ff2921ebe5"},{"__ref":"Post:e49caac79972"},{"__ref":"Post:54d78f7cb7b2"},{"__ref":"Post:283f3b135d95"},{"__ref":"Post:b0cc5ea164e2"},{"__ref":"Post:8ef9826a745"},{"__ref":"Post:dd07e5c72750"},{"__ref":"Post:ac0c18e561eb"}]},"pinnedByCreatorAt":0,"curationEligibleAt":0,"responseDistribution":"NOT_DISTRIBUTED","inResponseToPostResult":null,"inResponseToCatalogResult":null,"latestPublishedVersion":"251f4fa797e4","isAuthorNewsletter":false,"viewerEdge":{"__ref":"PostViewerEdge:postId:57668be796a8-viewerId:lo_f02cf958d8bd"},"voterCount":357,"recommenders":[]},"UserViewerEdge:userId:176d0a02f80b-viewerId:lo_f02cf958d8bd":{"id":"userId:176d0a02f80b-viewerId:lo_f02cf958d8bd","__typename":"UserViewerEdge","isFollowing":false,"isUser":false},"Paragraph:251f4fa797e4_0":{"id":"251f4fa797e4_0","__typename":"Paragraph","name":"3999","text":"Making instagram.com faster: Code size and execution optimizations (Part 4)","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":7,"end":8,"href":"http:\u002F\u002FInstagram.com","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:251f4fa797e4_1":{"id":"251f4fa797e4_1","__typename":"Paragraph","name":"6301","text":"In recent years instagram.com has seen a lot of changes — we’ve launched stories, filters, creation tools, notifications, and direct messaging as well as a myriad of other features and enhancements. However, as the product grew, a side effect was that our web performance began to slow. Over the last year we made a conscious effort to improve this. This ongoing effort has thus far resulted in almost 50% cumulative improvement to our feed page load time. This series of blog posts will outline some of the work we’ve done that led to these improvements. In part 1 we talked about prefetching data, in part 2 we talked about improving performance by pushing data directly to the client rather than waiting for the client to request the data, and in part 3 we talked about cache-first rendering.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":16,"end":29,"href":"http:\u002F\u002Finstagram.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":559,"end":565,"href":"https:\u002F\u002Finstagram-engineering.com\u002Fmaking-instagram-com-faster-part-1-62cc0c327538","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":603,"end":609,"href":"https:\u002F\u002Finstagram-engineering.com\u002Fmaking-instagram-com-faster-part-2-f350c8fba0d4","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":750,"end":756,"href":"https:\u002F\u002Finstagram-engineering.com\u002Fmaking-instagram-com-faster-part-3-cache-first-6f3f130b9669","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:251f4fa797e4_2":{"id":"251f4fa797e4_2","__typename":"Paragraph","name":"12e3","text":"Code size and execution optimizations","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_3":{"id":"251f4fa797e4_3","__typename":"Paragraph","name":"d7ee","text":"In parts 1–3 we covered various ways that we optimized the loading patterns of the critical path static resources and data queries. However there is another key area we haven’t covered yet that’s crucial to improving web application performance, particularly on low-end devices — ship less code to the user — in particular, ship less JavaScript. \n \n This might seem obvious, but there are a few points to consider here. There’s a common assumption in the industry that the size of the JavaScript that gets downloaded over the network is what’s important (i.e. the size post-compression), however we found that what’s really important is the size pre-compression as this is what has to be parsed and executed on the user’s device, even if it’s cached locally. This becomes particularly true if you have a site with many repeat users (and subsequent high browser cache hit rates) or users accessing your site on mobile devices. In these cases the parsing and execution performance of JavaScript on the CPU becomes the limiting factor rather than the network download time. For example, when we implemented Brotli compression for our JavaScript assets, we saw a nearly 20% reduction of post-compression size across the wire, but NO statistically significant reduction in the overall page load times as seen by end users. \n \n On the other hand, we’ve found reductions in pre-compression JavaScript size have consistently led to performance improvements. It’s also worth making a distinction between JavaScript that is executed on the critical path and JavaScript that is dynamically imported after the main page has completed. While ideally it would be nice to reduce the total amount of JavaScript in an application, a key thing to optimize in the short term is the amount of eagerly executed JavaScript on the critical path (we track this with a metric we call Critical Bytes Per Route). Dynamically imported JavaScript that lazy loads is generally not going to have as significant an effect on page load performance, so it’s a valid strategy to move non-visible or interaction dependent UI components out of the initial page bundles and into dynamically imported bundles. \n \n Refactoring our UI to reduce the amount of script on the critical path is going to be essential to improving performance in the long term — but this is a significant undertaking which will take time. In the short-term we worked on a number of projects to improve the size and execution efficiency of our existing code in ways that are largely transparent to product developers and require little refactoring of existing product code.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":1104,"end":1110,"href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBrotli","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":280,"end":307,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":1226,"end":1228,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":324,"end":344,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":569,"end":585,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":646,"end":661,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":1226,"end":1228,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:251f4fa797e4_4":{"id":"251f4fa797e4_4","__typename":"Paragraph","name":"7870","text":"Inline requires","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_5":{"id":"251f4fa797e4_5","__typename":"Paragraph","name":"e200","text":"We bundle our frontend web assets using Metro (the same bundler used by React Native) so we get access to inline-requires out of the box. Inline-requires moves the cost of requiring\u002Fimporting modules to the first time when they are actually used. This means that you can avoid paying execution cost for unused features (though you’ll still pay the cost of downloading and parsing them) and you can better amortize the execution cost over the application startup, rather than having a large amount of upfront computation.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":40,"end":45,"href":"https:\u002F\u002Ffacebook.github.io\u002Fmetro\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:251f4fa797e4_6":{"id":"251f4fa797e4_6","__typename":"Paragraph","name":"81a0","text":"Enabling inline requires in React Native & Instagram Web","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"hasDropCap":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:d5a33f7e41003f8608fb033886056f4f"}},"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_7":{"id":"251f4fa797e4_7","__typename":"Paragraph","name":"e934","text":"To see how this works in practice, lets take the following example code:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_8":{"id":"251f4fa797e4_8","__typename":"Paragraph","name":"2205","text":"","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"hasDropCap":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:723e856b1fbaf18256da74cd88977ba5"}},"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_9":{"id":"251f4fa797e4_9","__typename":"Paragraph","name":"6032","text":"Using inline requires this would get transformed into something like the following (you’ll find these inline requires by searching for r(d[ in the Instagram JS source in your browser developer tools)","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":135,"end":139,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:251f4fa797e4_10":{"id":"251f4fa797e4_10","__typename":"Paragraph","name":"efb0","text":"","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"hasDropCap":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:ef2f1d723b91b0778b00348042b3b307"}},"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_11":{"id":"251f4fa797e4_11","__typename":"Paragraph","name":"125c","text":"As we can see, it essentially works by replacing the local references to a required module with a function call to require that module. This means that unless the code from that module is actually used, the module is never required (and therefore never executed). In most cases this works extremely well, but there are a couple of edge cases to be aware of that can cause problems — namely modules with side effects. For example:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_12":{"id":"251f4fa797e4_12","__typename":"Paragraph","name":"cd00","text":"","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"hasDropCap":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:7a43ec94aaf8dc6abb832293b35f608e"}},"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_13":{"id":"251f4fa797e4_13","__typename":"Paragraph","name":"5178","text":"Without inline requires, Module C would output {'foo':'bar'}, but when we enable inline-requires, it would output undefined, because B has an implicit dependency on A. This is a contrived example, but there are other real world cases where this can have effects i.e. what if a module does some logging as a part of its initialization - enabling inline-requires could cause this logging to stop happening. This is mostly preventable through linters that check for code that executes immediately at the module scope level, but there were some files we had to blacklist from this optimization such as runtime polyfills that need to execute immediately. After experimenting enabling inline requires across the codebase we saw an improvement in our Feed TTI (time to interactive) by 12% and Display Done by 9.8%, and decided that dealing with some of these minor edge cases was worth it for the performance improvements.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":47,"end":60,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":114,"end":123,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}]},"Paragraph:251f4fa797e4_14":{"id":"251f4fa797e4_14","__typename":"Paragraph","name":"e90a","text":"Serving ES2017 bundles to modern browsers","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_15":{"id":"251f4fa797e4_15","__typename":"Paragraph","name":"2478","text":"One of the primary drivers that drove the adoption of compiler\u002Ftranspiler tools like Babel was allowing developers to use modern JavaScript coding idioms but still have their applications work in browsers that lacked native support for these latest language features. Since then a number of other important use-cases for these tools arose including compile-to-js languages like Typescript and ReasonML, language extensions such as JSX and Flow type annotations, and build time AST manipulations for things like internationalization. Because of this, it’s unlikely that this extra compilation step is going to go disappear from frontend development workflows any time soon. However, with that said it’s worth revisiting if the original purpose for doing this (cross browser compatibility) is still necessary in 2019.\n \n ES2015 and more recent features like async\u002Fawait are now well supported across recent versions of most major browsers, so directly serving JavaScript containing these newer features is definitely possible — but there are two key questions that we had to answer first:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_16":{"id":"251f4fa797e4_16","__typename":"Paragraph","name":"589d","text":"Would enough users be able to take advantage of this to make the extra build complexity worthwhile (as you’d still need to maintain the legacy transpiling step for older browsers),","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_17":{"id":"251f4fa797e4_17","__typename":"Paragraph","name":"5668","text":"And what (if any) are the performance advantages of shipping ES2015+ features","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_18":{"id":"251f4fa797e4_18","__typename":"Paragraph","name":"d366","text":"To answer the first question we first had to determine which features we were going to ship without transpiling\u002Fpolyfilling and how many build variants we wanted to support for the different browsers. We settled on having two builds, one that would require support for ES2017 syntax, and a legacy build that would transpile back to ES5 (in addition we also added an optional polyfill bundle that would only be added for legacy browsers that lacked runtime support for more recent DOM API’s). Detecting support for these groups is done via some basic user-agent sniffing on the server side which ensures there is no runtime cost or extra roundtrip time from doing client-side detection of which bundles to load.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_19":{"id":"251f4fa797e4_19","__typename":"Paragraph","name":"bd96","text":"","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"hasDropCap":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:4971b12bb97da1ea896c832172f19d57"}},"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_20":{"id":"251f4fa797e4_20","__typename":"Paragraph","name":"b5c8","text":"With this in mind, we ran the numbers and determined that 56% of users to instagram.com are able to be served the ES2017 build without any transpiling or runtime polyfills, and considering that this percentage is only going to go up over time — it seems like its worth supporting two builds considering the number of users able to utilize it.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":74,"end":87,"href":"http:\u002F\u002Finstagram.com","anchorType":"LINK","userId":null,"linkMetadata":null}]},"Paragraph:251f4fa797e4_21":{"id":"251f4fa797e4_21","__typename":"Paragraph","name":"d082","text":"Percentage of Instagram users with ES2017 supported vs unsupported browsers","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*HDLCFPZCIfOpVWMSYz4HOg.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_22":{"id":"251f4fa797e4_22","__typename":"Paragraph","name":"2a13","text":"As for the second question — what are the performance advantages of shipping ES2017 directly — lets start by looking at what Babel actually does to transpile some common constructs back to ES5. In the left hand column is the ES2017 code, and on the right is the transpiled ES5 compatible version.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_23":{"id":"251f4fa797e4_23","__typename":"Paragraph","name":"fdb0","text":"Class (ES2017 vs ES5)","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_24":{"id":"251f4fa797e4_24","__typename":"Paragraph","name":"52fc","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*2_e9ARhf2RfO0rGy7aSA4w.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_25":{"id":"251f4fa797e4_25","__typename":"Paragraph","name":"bad2","text":"Async\u002FAwait (ES2017 vs ES5)","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_26":{"id":"251f4fa797e4_26","__typename":"Paragraph","name":"0a9e","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*WqgXcDXCe9r9xdhfcxPiQA.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_27":{"id":"251f4fa797e4_27","__typename":"Paragraph","name":"0f4b","text":"Arrow functions (ES2017 vs ES5)","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_28":{"id":"251f4fa797e4_28","__typename":"Paragraph","name":"bc2c","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*_b476jWcR3BNPRErC7JlxQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_29":{"id":"251f4fa797e4_29","__typename":"Paragraph","name":"38d3","text":"Rest parameters (ES2017 vs ES5)","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_30":{"id":"251f4fa797e4_30","__typename":"Paragraph","name":"f8e0","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*WNRff6CfGqEAb4m1jZO_sQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_31":{"id":"251f4fa797e4_31","__typename":"Paragraph","name":"328e","text":"Destructuring assignment (ES2017 vs ES5)","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_32":{"id":"251f4fa797e4_32","__typename":"Paragraph","name":"40ba","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*Y8iA5py-J4NBdXPSfQ4cug.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_33":{"id":"251f4fa797e4_33","__typename":"Paragraph","name":"6c5b","text":"From this we can see that there is a considerable size overhead in transpiling these constructs (even if you amortize the cost of some of the runtime helper functions over a large codebase). In the case of Instagram, we saw a 5.7% reduction in the size of our core consumer JavaScript bundles when we removed all ES2017 transpiling plugins from our build. In testing we found that the end-to-end load times for the feed page improved by 3% for users who were served the ES2017 bundle compared with those who were not.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_34":{"id":"251f4fa797e4_34","__typename":"Paragraph","name":"e14a","text":"Still a long way to go","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[]},"Paragraph:251f4fa797e4_35":{"id":"251f4fa797e4_35","__typename":"Paragraph","name":"c646","text":"While the progress that has been made so far is impressive, the work we’ve done so far represents just the beginning. Theres still a huge amount of room left for improvement in areas such as Redux store\u002Freducer modularization, better code splitting, moving more JavaScript execution off the critical path, optimizing scroll performance, adjusting to different bandwidth conditions, and more. \n \n If you want to learn more about this work or are interested joining one of our engineering teams, please visit our careers page, follow us on Facebook or on Twitter.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":511,"end":523,"href":"https:\u002F\u002Fwww.facebook.com\u002Fcareers\u002Fjobs\u002F?q=instagram","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":535,"end":546,"href":"https:\u002F\u002Fwww.facebook.com\u002Finstagramengineering\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":550,"end":560,"href":"https:\u002F\u002Ftwitter.com\u002Finstagrameng","anchorType":"LINK","userId":null,"linkMetadata":null}]},"MediaResource:d5a33f7e41003f8608fb033886056f4f":{"id":"d5a33f7e41003f8608fb033886056f4f","__typename":"MediaResource","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"inline-requires-config.js"},"MediaResource:723e856b1fbaf18256da74cd88977ba5":{"id":"723e856b1fbaf18256da74cd88977ba5","__typename":"MediaResource","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"inline-requires-example-1.js"},"MediaResource:ef2f1d723b91b0778b00348042b3b307":{"id":"ef2f1d723b91b0778b00348042b3b307","__typename":"MediaResource","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"inline-requires-transform.js"},"MediaResource:7a43ec94aaf8dc6abb832293b35f608e":{"id":"7a43ec94aaf8dc6abb832293b35f608e","__typename":"MediaResource","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"inline-requires-side-effects.js"},"MediaResource:4971b12bb97da1ea896c832172f19d57":{"id":"4971b12bb97da1ea896c832172f19d57","__typename":"MediaResource","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"compatibility.md"},"ImageMetadata:1*HDLCFPZCIfOpVWMSYz4HOg.png":{"id":"1*HDLCFPZCIfOpVWMSYz4HOg.png","__typename":"ImageMetadata","originalHeight":627,"originalWidth":627,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*2_e9ARhf2RfO0rGy7aSA4w.png":{"id":"1*2_e9ARhf2RfO0rGy7aSA4w.png","__typename":"ImageMetadata","originalHeight":940,"originalWidth":815,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*WqgXcDXCe9r9xdhfcxPiQA.png":{"id":"1*WqgXcDXCe9r9xdhfcxPiQA.png","__typename":"ImageMetadata","originalHeight":790,"originalWidth":818,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*_b476jWcR3BNPRErC7JlxQ.png":{"id":"1*_b476jWcR3BNPRErC7JlxQ.png","__typename":"ImageMetadata","originalHeight":90,"originalWidth":815,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*WNRff6CfGqEAb4m1jZO_sQ.png":{"id":"1*WNRff6CfGqEAb4m1jZO_sQ.png","__typename":"ImageMetadata","originalHeight":168,"originalWidth":817,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*Y8iA5py-J4NBdXPSfQ4cug.png":{"id":"1*Y8iA5py-J4NBdXPSfQ4cug.png","__typename":"ImageMetadata","originalHeight":427,"originalWidth":818,"focusPercentX":null,"focusPercentY":null,"alt":null},"Tag:javascript":{"id":"javascript","__typename":"Tag"},"Tag:es2017":{"id":"es2017","__typename":"Tag"},"Tag:react-native":{"id":"react-native","__typename":"Tag"},"Tag:web-performance":{"id":"web-performance","__typename":"Tag"},"Tag:instagram":{"id":"instagram","__typename":"Tag"},"Topic:63c6f1f93ee":{"id":"63c6f1f93ee","__typename":"Topic","slug":"javascript","name":"Javascript"},"User:a4c6efa67fe0":{"id":"a4c6efa67fe0","__typename":"User","atsQualifiedAt":1612205336113},"ImageMetadata:":{"id":"","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:c261cb28e23":{"id":"c261cb28e23","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"brightlivingstone.medium.com"}},"hasSubdomain":true,"username":"brightlivingstone"},"Post:91ff2921ebe5":{"id":"91ff2921ebe5","__typename":"Post","visibility":"PUBLIC","previewContent":{"__typename":"PreviewContent","isFullContent":false,"subtitle":"JavaScript popularity continues its rising. In 2016 we’ve witnessed such great changes, as AngularJS entire upgrade and introduction of…"},"collection":null,"title":"Which is the best Java Script framework in 2017?","mediumUrl":"https:\u002F\u002Fbrightlivingstone.medium.com\u002Fwhich-is-the-best-java-script-framework-in-2017-91ff2921ebe5","primaryTopic":null,"previewImage":{"__ref":"ImageMetadata:"},"clapCount":2,"creator":{"__ref":"User:c261cb28e23"},"isSeries":false,"sequence":null,"uniqueSlug":"which-is-the-best-java-script-framework-in-2017-91ff2921ebe5"},"Collection:fc2833a2d377":{"id":"fc2833a2d377","__typename":"Collection","slug":"ng-news","name":"ng-news","domain":null},"User:9ebf2b9c21b":{"id":"9ebf2b9c21b","__typename":"User","customDomainState":null,"hasSubdomain":false,"username":"ng-news"},"Post:e49caac79972":{"id":"e49caac79972","__typename":"Post","visibility":"PUBLIC","previewContent":{"__typename":"PreviewContent","isFullContent":false,"subtitle":"This is a weekly posting, covering the latest updates from the Angular community."},"collection":{"__ref":"Collection:fc2833a2d377"},"title":"Issue 22\u002F07","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fng-news\u002Fissue-22-07-e49caac79972","primaryTopic":null,"previewImage":{"__ref":"ImageMetadata:"},"clapCount":0,"creator":{"__ref":"User:9ebf2b9c21b"},"isSeries":false,"sequence":null,"uniqueSlug":"issue-22-07-e49caac79972"},"ImageMetadata:0*qvKBS-PQvW1eXv8A":{"id":"0*qvKBS-PQvW1eXv8A","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:4503a54deba":{"id":"4503a54deba","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"ajeasmith.medium.com"}},"hasSubdomain":true,"username":"ajeasmith"},"Post:54d78f7cb7b2":{"id":"54d78f7cb7b2","__typename":"Post","visibility":"PUBLIC","previewContent":{"__typename":"PreviewContent","isFullContent":false,"subtitle":"Episode 4: Install MongoDB (using Homebrew) (Evernote Clone)"},"collection":null,"title":"Full Stack React — Part 4(React, GraphQL, Express, MongoDB)","mediumUrl":"https:\u002F\u002Fajeasmith.medium.com\u002Ffull-stack-react-part-4-react-graphql-express-mongodb-54d78f7cb7b2","primaryTopic":null,"previewImage":{"__ref":"ImageMetadata:0*qvKBS-PQvW1eXv8A"},"clapCount":0,"creator":{"__ref":"User:4503a54deba"},"isSeries":false,"sequence":null,"uniqueSlug":"full-stack-react-part-4-react-graphql-express-mongodb-54d78f7cb7b2"},"ImageMetadata:1*jhKICbS2qpuP_hr7CxfjxA.jpeg":{"id":"1*jhKICbS2qpuP_hr7CxfjxA.jpeg","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:2a72e24b2d5b":{"id":"2a72e24b2d5b","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"djangoshelton.medium.com"}},"hasSubdomain":true,"username":"djangoshelton"},"Post:283f3b135d95":{"id":"283f3b135d95","__typename":"Post","visibility":"PUBLIC","previewContent":{"__typename":"PreviewContent","isFullContent":false,"subtitle":"Part one and part two of this series covered the basic building blocks for implementing CI and CD pipelines in a JavaScript world. This…"},"collection":null,"title":"CI \u002F CD Pipeline Patterns For JavaScript (Part 3)","mediumUrl":"https:\u002F\u002Fdjangoshelton.medium.com\u002Fci-cd-pipeline-patterns-for-javascript-part-3-283f3b135d95","primaryTopic":null,"previewImage":{"__ref":"ImageMetadata:1*jhKICbS2qpuP_hr7CxfjxA.jpeg"},"clapCount":4,"creator":{"__ref":"User:2a72e24b2d5b"},"isSeries":false,"sequence":null,"uniqueSlug":"ci-cd-pipeline-patterns-for-javascript-part-3-283f3b135d95"},"ImageMetadata:1*GviCc_3szI_UQzufwbKcYw.png":{"id":"1*GviCc_3szI_UQzufwbKcYw.png","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:b94102b3e99f":{"id":"b94102b3e99f","__typename":"User","customDomainState":null,"hasSubdomain":false,"username":"nk_57630"},"Post:b0cc5ea164e2":{"id":"b0cc5ea164e2","__typename":"Post","visibility":"PUBLIC","previewContent":{"__typename":"PreviewContent","isFullContent":false,"subtitle":"Question: Given an Array, find the first duplicate value that occurs. If there are no duplicates, return -1."},"collection":null,"title":"Starter Algorithms — Find First Duplicate","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@nk_57630\u002Fstarter-algorithms-find-first-duplicate-b0cc5ea164e2","primaryTopic":null,"previewImage":{"__ref":"ImageMetadata:1*GviCc_3szI_UQzufwbKcYw.png"},"clapCount":0,"creator":{"__ref":"User:b94102b3e99f"},"isSeries":false,"sequence":null,"uniqueSlug":"starter-algorithms-find-first-duplicate-b0cc5ea164e2"},"Collection:5b301f10ddcd":{"id":"5b301f10ddcd","__typename":"Collection","slug":"itnext","name":"ITNEXT","domain":"itnext.io"},"ImageMetadata:1*IbiU2ECEJwf4MZcL66Xs4g.jpeg":{"id":"1*IbiU2ECEJwf4MZcL66Xs4g.jpeg","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:13b0d0027bbf":{"id":"13b0d0027bbf","__typename":"User","customDomainState":null,"hasSubdomain":false,"username":"joseph0crick"},"Post:8ef9826a745":{"id":"8ef9826a745","__typename":"Post","visibility":"PUBLIC","previewContent":{"__typename":"PreviewContent","isFullContent":false,"subtitle":"Search the web for when to use Linked Lists, and you’re likely to find answers like this:"},"collection":{"__ref":"Collection:5b301f10ddcd"},"title":"Practical Data Structures for Frontend Applications: When to use Linked Lists","mediumUrl":"https:\u002F\u002Fitnext.io\u002Fpractical-data-structures-for-frontend-applications-when-to-use-linked-lists-8ef9826a745","primaryTopic":null,"previewImage":{"__ref":"ImageMetadata:1*IbiU2ECEJwf4MZcL66Xs4g.jpeg"},"clapCount":145,"creator":{"__ref":"User:13b0d0027bbf"},"isSeries":false,"sequence":null,"uniqueSlug":"practical-data-structures-for-frontend-applications-when-to-use-linked-lists-8ef9826a745"},"ImageMetadata:1*6aQGu8PJlvbd0KS1wLutDw.png":{"id":"1*6aQGu8PJlvbd0KS1wLutDw.png","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:62ec5fc894ef":{"id":"62ec5fc894ef","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"prishusoft-32947.medium.com"}},"hasSubdomain":true,"username":"prishusoft-32947"},"Post:dd07e5c72750":{"id":"dd07e5c72750","__typename":"Post","visibility":"PUBLIC","previewContent":{"__typename":"PreviewContent","isFullContent":false,"subtitle":"Here is detailed article which explained in detail how to Integrate AdminLTE theme to Reactjs app."},"collection":null,"title":"Integrate AdminLTE theme to Reactjs app.","mediumUrl":"https:\u002F\u002Fprishusoft-32947.medium.com\u002Fintegrate-adminlte-theme-to-reactjs-app-dd07e5c72750","primaryTopic":null,"previewImage":{"__ref":"ImageMetadata:1*6aQGu8PJlvbd0KS1wLutDw.png"},"clapCount":0,"creator":{"__ref":"User:62ec5fc894ef"},"isSeries":false,"sequence":null,"uniqueSlug":"integrate-adminlte-theme-to-reactjs-app-dd07e5c72750"},"ImageMetadata:1*4ki0mB8VDCrNVB5wRFdELg.jpeg":{"id":"1*4ki0mB8VDCrNVB5wRFdELg.jpeg","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:5818fec618ae":{"id":"5818fec618ae","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"haydendekker.medium.com"}},"hasSubdomain":true,"username":"haydendekker"},"Post:ac0c18e561eb":{"id":"ac0c18e561eb","__typename":"Post","visibility":"LOCKED","previewContent":{"__typename":"PreviewContent","isFullContent":false,"subtitle":"A quick how-to on detecting when a user has closed a browser UI tab."},"collection":null,"title":"Vaadin UI closed detection","mediumUrl":"https:\u002F\u002Fhaydendekker.medium.com\u002Fvaadin-ui-closed-detection-ac0c18e561eb","primaryTopic":null,"previewImage":{"__ref":"ImageMetadata:1*4ki0mB8VDCrNVB5wRFdELg.jpeg"},"clapCount":0,"creator":{"__ref":"User:5818fec618ae"},"isSeries":false,"sequence":null,"uniqueSlug":"vaadin-ui-closed-detection-ac0c18e561eb"},"CollectionViewerEdge:collectionId:37dc2a3034f2-viewerId:lo_f02cf958d8bd":{"id":"collectionId:37dc2a3034f2-viewerId:lo_f02cf958d8bd","__typename":"CollectionViewerEdge","isEditor":false},"PostViewerEdge:postId:57668be796a8-viewerId:lo_f02cf958d8bd":{"id":"postId:57668be796a8-viewerId:lo_f02cf958d8bd","__typename":"PostViewerEdge","catalogsConnection":null},"ImageMetadata:1*um16MBQjDY65vZt_Ymv7QQ.png":{"id":"1*um16MBQjDY65vZt_Ymv7QQ.png","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:6ee504c9ec12":{"id":"6ee504c9ec12","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"jatinhabibkar.medium.com"}},"hasSubdomain":true,"username":"jatinhabibkar"},"Post:4fdfd269c6c9":{"id":"4fdfd269c6c9","__typename":"Post","title":"Reusable components in REACT","mediumUrl":"https:\u002F\u002Fjatinhabibkar.medium.com\u002Freusable-components-in-react-4fdfd269c6c9","previewContent":{"__typename":"PreviewContent","subtitle":"In React, a reusable component is a piece of UI that can be used in various parts of an application to build more than one UI instance.","isFullContent":false},"primaryTopic":null,"collection":null,"previewImage":{"__ref":"ImageMetadata:1*um16MBQjDY65vZt_Ymv7QQ.png"},"clapCount":0,"visibility":"PUBLIC","creator":{"__ref":"User:6ee504c9ec12"},"isSeries":false,"sequence":null,"uniqueSlug":"reusable-components-in-react-4fdfd269c6c9"},"ImageMetadata:0*tjLsI_-a-CLboBG-":{"id":"0*tjLsI_-a-CLboBG-","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:d89a7c530517":{"id":"d89a7c530517","__typename":"User","customDomainState":null,"hasSubdomain":false,"username":"thomas.chappel4"},"Post:4e5c846113e8":{"id":"4e5c846113e8","__typename":"Post","title":"Reusable Popover (or Menu) with Material UI and Typescript","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@thomas.chappel4\u002Freusable-popover-or-menu-with-material-ui-and-typescript-4e5c846113e8","previewContent":{"__typename":"PreviewContent","subtitle":"Here is my take on how to build a reusable Popover with Material UI, using Typescript. A very similar approach can be followed for a…","isFullContent":false},"primaryTopic":null,"collection":null,"previewImage":{"__ref":"ImageMetadata:0*tjLsI_-a-CLboBG-"},"clapCount":4,"visibility":"LOCKED","creator":{"__ref":"User:d89a7c530517"},"isSeries":false,"sequence":null,"uniqueSlug":"reusable-popover-or-menu-with-material-ui-and-typescript-4e5c846113e8"},"ImageMetadata:1*5aBlFfHcf8IOaa9KxXiUIg.png":{"id":"1*5aBlFfHcf8IOaa9KxXiUIg.png","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:a4950adfea15":{"id":"a4950adfea15","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"m0bile-m4gic.medium.com"}},"hasSubdomain":true,"username":"m0bile-m4gic"},"Post:3da635b913f0":{"id":"3da635b913f0","__typename":"Post","title":"This post is also available as a youtube video that can be checked out here: {% youtube…","mediumUrl":"https:\u002F\u002Fm0bile-m4gic.medium.com\u002Fthis-post-is-also-available-as-a-youtube-video-that-can-be-checked-out-here-youtube-3da635b913f0","previewContent":{"__typename":"PreviewContent","subtitle":"The video version covers the topic with more depth than this article, and I highly recommend you check it out","isFullContent":false},"primaryTopic":{"__ref":"Topic:63c6f1f93ee"},"collection":null,"previewImage":{"__ref":"ImageMetadata:1*5aBlFfHcf8IOaa9KxXiUIg.png"},"clapCount":0,"visibility":"PUBLIC","creator":{"__ref":"User:a4950adfea15"},"isSeries":false,"sequence":null,"uniqueSlug":"this-post-is-also-available-as-a-youtube-video-that-can-be-checked-out-here-youtube-3da635b913f0"},"Topic:ab3d8f7f8eb1":{"id":"ab3d8f7f8eb1","__typename":"Topic","name":"iOS Dev","slug":"ios-development"},"ImageMetadata:1*BpKaDmeZY759c9CSR9CMHg.png":{"id":"1*BpKaDmeZY759c9CSR9CMHg.png","__typename":"ImageMetadata","alt":null,"focusPercentX":null,"focusPercentY":null},"User:e6dea663e8ef":{"id":"e6dea663e8ef","__typename":"User","customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"bianca-dragomir.medium.com"}},"hasSubdomain":true,"username":"bianca-dragomir"},"Post:8f207c69d777":{"id":"8f207c69d777","__typename":"Post","title":"Archiving iOS React Native app in an NRWL monorepo: debugging guide","mediumUrl":"https:\u002F\u002Fbianca-dragomir.medium.com\u002Farchiving-ios-react-native-app-in-an-nrwl-monorepo-debugging-guide-8f207c69d777","previewContent":{"__typename":"PreviewContent","subtitle":"Problems I’ve run into while trying to archive an app that would otherwise run on a physical device.","isFullContent":false},"primaryTopic":{"__ref":"Topic:ab3d8f7f8eb1"},"collection":null,"previewImage":{"__ref":"ImageMetadata:1*BpKaDmeZY759c9CSR9CMHg.png"},"clapCount":10,"visibility":"LOCKED","creator":{"__ref":"User:e6dea663e8ef"},"isSeries":false,"sequence":null,"uniqueSlug":"archiving-ios-react-native-app-in-an-nrwl-monorepo-debugging-guide-8f207c69d777"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.36a166b8.js"></script><script src="https://cdn-client.medium.com/lite/static/js/13730.c507718c.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.5a3c512d.js"></script><script src="https://cdn-client.medium.com/lite/static/js/45573.4354ed57.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.4fd6ad3a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/54029.e07e1e18.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/54325.d245fb9a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/AppLayout.f6bd53d3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.950d4050.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/92546.8b481330.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1752.a348f767.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7794.9590314e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/88316.3eb3bc8f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/57635.0a7ae14a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/75221.81c0ae68.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/33928.3ab480f1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/95472.20329d15.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/47464.d71003d1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/27497.109a4f26.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/46929.7aabd798.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/78819.ce08c034.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/97332.f6bdcfe7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/70449.b7f0c377.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/46836.89ad2df0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/28491.0ecc77e2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/88246.a4eb47a9.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/10887.8c699586.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/52639.61c9d18a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/24883.521f79ea.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/37346.c744a48a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/66451.fee7580f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/91743.512c7f15.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/96277.a0e68f58.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/50082.93fc8de3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/65281.92cfc4b6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/68050.e22713fe.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4261.562efb84.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/49304.a0643add.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/15677.b2d70577.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/52043.69a1e180.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.baad8f15.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/75374.179b5fba.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/35328.711d1435.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.RightColumnContent.63030aa8.chunk.js"></script><script>window.main();</script></body></html>